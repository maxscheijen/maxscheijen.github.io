<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>I Really Like GNU Stow - Max Scheijen</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link rel="stylesheet" href="../../theme/css/main.css" type="text/css" />
  <link rel="stylesheet" href="../../theme/css/styles.css" type="text/css" />
  <link rel="icon" type="image/png" sizes="16x16" href="../../theme/images/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../theme/images/favicon-32x32.png">
  
  <link href="../../feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Max Scheijen - Flux ATOM" />
</head>
<body>
  <header>
    <a href="../../index.html">
      <svg fill="#000000" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="64px" height="64px" viewBox="0 0 114.84 114.84" xml:space="preserve" transform="rotate(180)" stroke="#000000" stroke-width="0.00114838"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" stroke="#CCCCCC" stroke-width="1.607732"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M114.822,83.667c0.005-0.003,0.011-0.005,0.016-0.008l-0.242-0.438l-0.174-0.469c-2.889,1.074-5.479,1.014-7.918-0.184 c-7.797-3.829-12.357-18.479-16.769-32.646c-4.267-13.702-8.295-26.646-15.083-28.488c-2.775-0.755-5.739,0.351-9.064,3.382 c-4.777,4.55-9.23,14.32-13.539,23.769C46.907,59.866,41.59,71.53,36.476,72.012c-3.446,0.344-6.995-4.27-10.74-9.134 c-6.261-8.13-14.054-18.248-25.66-10.945l0.229,0.365c-0.084,0.058-0.167,0.105-0.251,0.165l0.24,0.339 c-0.087,0.066-0.173,0.121-0.26,0.189l0.249,0.316c-0.089,0.074-0.178,0.136-0.267,0.213l0.254,0.293 c-0.09,0.082-0.18,0.15-0.27,0.235l0.686,0.729c2.635-2.484,5.091-3.456,7.498-2.976c6.335,1.265,11.459,12.705,15.979,22.798 c4.567,10.196,8.524,19.032,13.547,19.032c0.11,0,0.221-0.004,0.333-0.013c7.147-0.553,9.792-10.111,12.855-21.179 c2.173-7.854,4.636-16.753,9.091-23.108c3.963-5.409,7.5-7.907,10.817-7.629c5.937,0.494,10.636,9.831,15.611,19.717 c5.268,10.469,10.717,21.292,18.522,23.691c3.108,0.956,6.427,0.473,9.86-1.432c0.002,0,0.004-0.001,0.006-0.002l0,0 C114.811,83.673,114.817,83.671,114.822,83.667L114.822,83.667z M24.531,69.191c4.388,7.786,8.159,14.507,12.775,14.122 c6.434-0.546,10.442-11.369,14.686-22.826c3.227-8.712,6.564-17.721,11.146-23.053c3.447-4.012,6.49-5.736,9.291-5.266 c6.006,1.004,10.359,11.948,14.968,23.534c2.541,6.386,5.128,12.874,8.129,18.122c-2.808-4.604-5.325-10.21-7.8-15.729 C82.805,47.113,78.154,36.74,71.658,35.95c-3.406-0.418-6.973,1.813-10.88,6.815c-4.667,5.972-7.538,14.824-10.313,23.385 c-3.473,10.709-6.752,20.825-12.871,21.32c-4.2,0.358-8.168-7.59-12.355-15.985c-1.759-3.528-3.542-7.097-5.426-10.274 C21.469,63.768,23.034,66.537,24.531,69.191z M18.281,57.277c2.314,2.75,4.445,6.018,6.449,9.103 c4.243,6.528,7.916,12.162,12.208,11.781c6.056-0.541,10.657-11.662,15.528-23.435c3.739-9.035,7.604-18.378,12.241-23.236 c3.227-3.38,6.053-4.754,8.648-4.196c6.096,1.309,10.256,13.104,14.66,25.591c2.211,6.268,4.457,12.633,7.051,18.011 c-2.417-4.699-4.596-10.17-6.74-15.563c-4.715-11.855-9.169-23.053-15.73-24.15c-3.176-0.529-6.521,1.3-10.217,5.601 c-4.699,5.467-8.067,14.562-11.325,23.357c-4.13,11.15-8.032,21.685-13.833,22.177c-3.943,0.333-7.774-6.441-11.819-13.616 C23.207,64.808,20.868,60.667,18.281,57.277z M24.944,63.489c4.088,5.309,7.611,9.898,11.626,9.52 c5.69-0.536,10.887-11.937,16.389-24.006c4.268-9.362,8.681-19.042,13.31-23.452c3.044-2.775,5.701-3.804,8.121-3.149 c6.258,1.698,10.207,14.387,14.391,27.822c2.001,6.428,4.034,12.95,6.4,18.56c-2.241-4.952-4.246-10.63-6.223-16.231 c-4.501-12.759-8.752-24.81-15.395-26.236c-2.961-0.635-6.096,0.831-9.581,4.484c-4.767,4.993-8.668,14.424-12.441,23.544 c-4.752,11.484-9.241,22.333-14.693,22.819c-3.694,0.341-7.383-5.333-11.281-11.331c-2.567-3.948-5.333-8.194-8.471-11.336 C19.945,57.002,22.508,60.325,24.944,63.489z M70.889,40.706c-3.684-0.308-7.521,2.321-11.713,8.043 c-4.56,6.504-7.046,15.493-9.242,23.424c-2.962,10.705-5.521,19.95-11.968,20.448c-4.478,0.347-8.564-8.773-12.89-18.432 c-1.322-2.952-2.657-5.93-4.038-8.73c1.141,2.136,2.241,4.336,3.305,6.472c4.421,8.864,8.252,16.551,12.978,16.55 c0.117,0,0.235-0.005,0.354-0.015c6.783-0.549,10.008-10.493,13.741-22.009c2.749-8.478,5.592-17.245,10.15-23.077 c3.674-4.702,6.941-6.806,9.972-6.438c5.935,0.722,10.474,10.844,15.277,21.561c2.743,6.119,5.538,12.334,8.753,17.243 c-2.96-4.259-5.633-9.56-8.258-14.775C82.205,50.827,77.383,41.246,70.889,40.706z"></path> </g> </g></svg>
    </a>
  </header>
  <main>
        
  <h1>I Really Like GNU Stow</h1>
  <div class="meta">
    <p>Nov 28, 2024</p>
    <p></p>
  </div>
  <article>
  <p>Ever found yourself painfully recreating config files when setting up a new dev environment? Been there, done that. Let me introduce you to GNU Stow, the symlink cli that'll make your dotfiles management a easier.</p>
<h2>What's GNU Stow</h2>
<p>Stow is basically a symlink farm manager that helps you organize your dotfiles by keeping them in a separate directory while magically creating symbolic links to their intended locations. It's like having a personal assistant for your config files.</p>
<h3>Why I use Stow for Dotfiles</h3>
<ol>
<li><strong>Centralized Management</strong>: All my dotfiles live in one tidy, version-controlled directory (<code>~/.dotfiles</code>). No more config chaos!</li>
<li><strong>Crazy Good Organization</strong>: Stow lets me separate configs by program or however I want. Total flexibility.</li>
<li><strong>Deployment Made Easy</strong>: When I need to set up a new machine, it's as simple as pulling my configs and running stow. No more manual copy-pasting.</li>
<li><strong>Pick and Choose</strong>: With Stow packages, I can selectively install exactly the configurations I want.</li>
</ol>
<h2>Getting Started: The Stow Setup</h2>
<p><strong>1. Install GNU Stow</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1"># macOS</span>
brew<span class="w"> </span>install<span class="w"> </span>stow

<span class="c1"># Ubuntu/Debian</span>
apt<span class="w"> </span>install<span class="w"> </span>stow
</code></pre></div>

<p><strong>2. Create Your Dotfiles Directory</strong></p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>~/.dotfiles
<span class="nb">cd</span><span class="w"> </span>~/.dotfiles
</code></pre></div>

<p><strong>3. Organize Your Configs as Packages</strong></p>
<p>I like creating packages base on programs</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-p<span class="w"> </span>nvim/.config/nvim<span class="w"> </span>kitty/.config/kitty<span class="w"> </span>zsh
<span class="sb">````</span>

<span class="m">4</span>.<span class="w"> </span>Migrate<span class="w"> </span>Your<span class="w"> </span>Configs<span class="w"> </span>

Move<span class="w"> </span>your<span class="w"> </span>existing<span class="w"> </span>config<span class="w"> </span>files,<span class="w"> </span>keeping<span class="w"> </span>the<span class="w"> </span>same<span class="w"> </span>home<span class="w"> </span>directory<span class="w"> </span>structure:

&lt;!--TODO:<span class="w"> </span>Check<span class="w"> </span><span class="k">if</span><span class="w"> </span>moving<span class="w"> </span>works<span class="w"> </span>--&gt;

<span class="sb">```</span>sh
mv<span class="w"> </span>~/.config/nvim/*<span class="w"> </span>~/.dotfiles/nvim/.config/nvim/
mv<span class="w"> </span>~/.config/kitty/*<span class="w"> </span>~/.dotfiles/kitty/.config/kitty/
mv<span class="w"> </span>~/.zshrc<span class="w"> </span>~/.dotfiles/zsh/
</code></pre></div>

<h2>Stow in Action</h2>
<p>Once your files are organized, using Stow is straightforward:</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/.dotfiles

<span class="c1"># Creates the symlink for ~/.config/nvim</span>
stow<span class="w"> </span>nvim
</code></pre></div>

<p>In you run for example <code>ls -la .zshrc</code> you will see that it it symlinked to <code>~/.dotfiles/zsh/zshrc</code></p>
<div class="highlight"><pre><span></span><code><span class="c1"># Displaying symlinks for dotfiles (example ~/.zshrc)</span>
ls<span class="w"> </span>-la<span class="w"> </span>~/.zshrc

<span class="c1"># output</span>
~/.zshrc<span class="w">        </span>--&gt;<span class="w"> </span>~/.dotfiles/zsh/.zshrc

<span class="c1"># dotfile           GNU Stow</span>
~/.config/nvim<span class="w">  </span>--&gt;<span class="w"> </span>~/.dotfiles/nvim/.config/nvim
~/.config/kitty<span class="w"> </span>--&gt;<span class="w"> </span>~/.dotfiles/kitty/.config/kitty
</code></pre></div>

<h2>Best Practices</h2>
<p><strong>1. Use version control</strong></p>
<p>Because all your dotfiles are in the same directory you can have just one repository for your dotfiles that has version control</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>~/.dotfiles
git<span class="w"> </span>init
git<span class="w"> </span>add<span class="w"> </span>-am<span class="w"> </span><span class="s2">&quot;Initial dotfiles commit&quot;</span>
</code></pre></div>

<p><strong>2. Create a setup script</strong></p>
<p>Want to automate stowing everything? Here's a quick script:</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="nb">cd</span><span class="w"> </span>~/.dotfiles
<span class="k">for</span><span class="w"> </span>dir<span class="w"> </span><span class="k">in</span><span class="w"> </span>*/<span class="p">;</span><span class="w"> </span><span class="k">do</span>
<span class="w">    </span>stow<span class="w"> </span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">dir</span><span class="p">%/</span><span class="si">}</span><span class="s2">&quot;</span>
<span class="k">done</span>
</code></pre></div>

<h2>Common Issues and Solutions</h2>
<p><strong>1. Existing Files</strong></p>
<p>Stow wont overwrite existing files that are not managed by it self. You should backup and remove existing files before stowing. You can also use <code>stow --adopt</code> to incorporate existing files (however use it with caution).</p>
<p><strong>2. Nested Directories</strong></p>
<p>Stow create parent directories as needed. You should keep the same directory structure as in your home directory.</p>
<p>For example the kitty config is located in <code>~/.config/kitty/</code>. So our stow setup should mirror the same structure. In <code>~/.dotfiles/kitty</code>. Where <code>kitty</code> is the stow package name. So inside this directory you should mirror <code>.config/kitty</code> resulting in <code>~/.dotfiles/kitty/.config/kitty</code>.</p>
<h2>Links</h2>
<p>[[linux]] [[stow]] [[dotfiles]]</p>
  </article>
  </main>
    <footer>
        <h2>Follow</h2>
        <p class="compact">
            Follow me on <a href="/feeds/all-en.atom.xml">RSS</a>,
            <a target="_blank" rel="me" href="https://github.com/maxscheijen">GitHub</a>,
            <a target="_blank" rel="me" href="https://linkedin.com/in/max-scheijen/">LinkedIn</a>,
            <a target="_blank" rel="me" href="https://bsky.app/profile/maxscheijen.bsky.social">BlueSky</a>,
            <a href="../../about"> or more about me</a>.
        </p>
    </footer>
</body>
</html>